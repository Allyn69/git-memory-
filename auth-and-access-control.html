<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Authentication and Access Control for
         AWS CodeCommit - AWS CodeCommit
      </title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="/assets" />
      <meta name="target_state" content="auth-and-access-control" />
      <meta name="default_state" content="auth-and-access-control" />
      <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/codecommit/latest/userguide/auth-and-access-control.html" />
      <meta name="description" content="Control user access using IAM policies to specify which CodeCommit actions a user in your AWS account can perform." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS CodeCommit" />
      <meta name="guide" content="User Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="Privately store and manage assets (such as documents, source code, and binary files) in the cloud with AWS CodeCommit." />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="CodeCommit" />
      <meta name="this_doc_product" content="AWS CodeCommit" />
      <meta name="this_doc_guide" content="User Guide" />
      <link href="/assets/css/vendor4.css?version=02.06" rel="stylesheet" />
      <link href="/assets/css/awsdocs-common.css?version=02.06" rel="stylesheet" /><script type="text/javascript" src="/assets/js/vendor4.js?version=02.06" defer=""></script><script type="text/javascript" src="/assets/js/vendor3.js?version=02.06" defer=""></script><script type="text/javascript" src="/assets/js/vendor1.js?version=02.06" defer=""></script><script type="text/javascript" src="/assets/js/awsdocs-common.js?version=02.06" defer=""></script><script type="text/javascript" src="/assets/js/awsdocs-doc-app.js?version=02.06" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Authentication and Access Control for
                           AWS CodeCommit - AWS CodeCommit
                        </title>
                        <meta name="pdf" content="codecommit-user.pdf#auth-and-access-control" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B076447TNS" />
                        <meta name="github" content="https://github.com/awsdocs/aws-codecommit-user-guide/tree/master/doc_source/auth-and-access-control.md" />
                        <meta name="rss" content="aws-codecommit-document-history.rss" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=189" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CodeCommit&amp;topic_url=http://docs.aws.amazon.com/en_us/codecommit/latest/userguide/auth-and-access-control.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/codecommit/latest/userguide/auth-and-access-control.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/codecommit/latest/userguide/auth-and-access-control.html" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="codecommit-user.pdf#auth-and-access-control" target="_blank" title="Open PDF"></a><a target="_blank" href="https://www.amazon.com/dp/B076447TNS" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-codecommit-user-guide/tree/master/doc_source/auth-and-access-control.md" target="_blank" title="Edit on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/codecommit/index.html">AWS CodeCommit</a><a href="welcome.html">User Guide</a></div>
                           <div id="page-toc-src"><a href="#authentication">Authentication</a><a href="#access-control">Access Control</a><a href="#auth-and-access-control-iam-access-control-identity-based">Overview of Managing Access</a></div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CodeCommit&amp;topic_url=https://docs.aws.amazon.com/en_us/codecommit/latest/userguide/auth-and-access-control.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CodeCommit&amp;topic_url=https://docs.aws.amazon.com/en_us/codecommit/latest/userguide/auth-and-access-control.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="auth-and-access-control">Authentication and Access Control for
                                    AWS CodeCommit
                                 </h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Access to AWS CodeCommit requires credentials. Those credentials must have permissions
                                    to access AWS resources, such as CodeCommit repositories, and your IAM user, which
                                    you use to
                                    manage your Git credentials or the SSH public key that you use for making Git connections.
                                    The following sections provide details on how you can use <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction.html">AWS Identity and Access Management (IAM)</a> and CodeCommit to
                                    help secure access to your resources:
                                 </p>
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><a href="#authentication">Authentication</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="#access-control">Access Control</a></p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 <h2 id="authentication">Authentication</h2>
                                 
                                 <p>Because CodeCommit repositories are Git-based and support the basic functionality
                                    of Git,
                                    including Git credentials, we recommend that you use an IAM user when working with
                                    CodeCommit. You can access CodeCommit with other identity types, but the other identity
                                    types are
                                    subject to limitations, as described below.
                                 </p>
                                 
                                 <p>Identity types:</p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><b>IAM user</b> – An <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html">IAM user</a> is simply an identity
                                             within your AWS account that has specific custom permissions. For example, an
                                             IAM user can have permissions to create and manage Git credentials for
                                             accessing CodeCommit repositories. <b>This is the
                                                recommended user type for working with CodeCommit.</b> You can use an
                                             IAM user name and password to sign in to secure AWS webpages like the <a href="https://console.aws.amazon.com/" target="_blank"><span>AWS Management Console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, <a href="https://forums.aws.amazon.com/" target="_blank"><span>AWS Discussion Forums</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, or the
                                             <a href="https://console.aws.amazon.com/support/home#/" target="_blank"><span>AWS Support Center</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. 
                                          </p>
                                          
                                          <p>You can generate Git credentials or associate SSH public keys with your IAM user,
                                             or you can
                                             install and configure <b>git-remote-codecommit</b>. These are the easiest ways to set up
                                             Git to work with your CodeCommit repositories. With <a href="./setting-up-gc.html">Git credentials</a>,
                                             you generate a static user name and password in IAM. You then use these credentials
                                             for HTTPS
                                             connections with Git and any third-party tool that supports Git user name and password
                                             authentication. With SSH connections, you create public and private key files on your
                                             local machine
                                             that Git and CodeCommit use for SSH authentication. You associate the public key with
                                             your IAM user,
                                             and you store the private key on your local machine. <b><a href="./setting-up-git-remote-codecommit.html">git-remote-codecommit</a></b> extends
                                             Git itself, and does not require setting up Git credentials for the user.
                                          </p>
                                          
                                          <p>In addition, you can generate <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html">access keys</a> for
                                             each user. Use access keys when you access AWS services programmatically,
                                             either through <a href="https://aws.amazon.com/tools/" target="_blank"><span>one of the AWS SDKs</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                                             or by using the <a href="https://aws.amazon.com/cli/" target="_blank"><span>AWS Command Line Interface (AWS CLI)</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. The
                                             SDK and CLI tools use the access keys to cryptographically sign your requests.
                                             If you don’t use the AWS tools, you must sign the requests yourself.
                                             CodeCommit supports <em>Signature Version 4</em>, a
                                             protocol for authenticating inbound API requests. For more information about
                                             authenticating requests, see <a href="https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html">Signature Version 4 Signing Process</a> in the
                                             <em>AWS General Reference</em>.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><b>AWS account root user</b> – When you sign
                                             up for AWS, you provide an email address and password that is associated with
                                             your AWS account. These are your <em>root credentials</em>, and
                                             they provide complete access to all of your AWS resources. Some CodeCommit features
                                             are not available for root account users. In addition, the only way to use Git
                                             with your root account is to either install and configure
                                             <b>git-remote-codecommit</b> (recommended) or to configure the
                                             AWS credential helper, which is included with the AWS CLI. You cannot use Git
                                             credentials or SSH public-private key pairs with your root account user. For
                                             these reasons, we do not recommend using your root account user when interacting
                                             with CodeCommit.
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-warning" variant="error"></awsui-icon><span>Important</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>For security reasons, we recommend that you use the root credentials only
                                                   to create an <em>administrator user</em>, which is an
                                                   <em>IAM user</em> with full permissions to your AWS
                                                   account. Then, you can use this administrator user to create other IAM
                                                   users and roles with limited permissions. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#create-iam-users">IAM Best
                                                      Practices</a> and <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/getting-started_create-admin-group.html">Creating an
                                                      Admin User and Group</a> in the
                                                   <em>IAM User Guide</em>.
                                                </p>
                                             </div>
                                          </div>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><b>IAM role</b> – Like an IAM user, an
                                             <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html">IAM role</a> is an IAM
                                             identity that you can create in your account to grant specific permissions. It
                                             is similar to an IAM user, but it is not associated with a specific person.
                                             Unlike an IAM user identity, you cannot use Git credentials or SSH keys with
                                             this identity type. However, an <em>IAM role </em>enables you to
                                             obtain temporary access keys that you can use to access AWS services and
                                             resources. IAM roles with temporary credentials are useful in the following
                                             situations:
                                          </p>
                                          
                                          <div class="itemizedlist">
                                              
                                              
                                              
                                              
                                             
                                             <ul class="itemizedlist" type="disc">
                                                <li class="listitem">
                                                   
                                                   <p><b>Federated user access</b> – Instead
                                                      of creating an IAM user, you can use preexisting user identities from
                                                      AWS Directory Service, your enterprise user directory, or a web identity provider.
                                                      These
                                                      are known as <em>federated users</em>. AWS assigns a role
                                                      to a federated user when access is requested through an <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers.html">identity
                                                         provider</a>. For more information about federated users, see
                                                      <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction_access-management.html#intro-access-roles">Federated Users and Roles</a> in the
                                                      <em>IAM User Guide</em>.
                                                   </p>
                                                   
                                                   <div class="awsdocs-note">
                                                      <div class="awsdocs-note-title">
                                                         <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                                      <div class="awsdocs-note-text">
                                                         <p> You cannot use Git credentials or SSH public-private key pairs with federated users.
                                                            In addition, user preferences are not available for federated users. For information
                                                            about how to set up connections using federated access, see <a href="./setting-up-git-remote-codecommit.html">Setup Steps for HTTPS Connections to AWS CodeCommit with
                                                               git-remote-codecommit</a>.
                                                         </p>
                                                      </div>
                                                   </div>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p><b>Cross-account access</b> – You can
                                                      use an IAM role in your account to grant another AWS account
                                                      permissions to access your account’s resources. For an example, see
                                                      <a href="./cross-account.html">Configure Cross-Account Access to an AWS CodeCommit Repository Using Roles</a>
                                                      and <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/tutorial_cross-account-with-roles.html">Tutorial: Delegate Access Across AWS Accounts Using IAM
                                                         Roles</a> in the <em>IAM User Guide</em>.
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p><b>AWS service access</b> – You can use an IAM role in
                                                      your account to grant an AWS service the permissions it requires to access your account’s
                                                      resources. For example, you can create a role that allows AWS Lambda to access a CodeCommit
                                                      repository on your behalf. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-service.html">Creating a Role to Delegate
                                                         Permissions to an AWS Service</a> in the
                                                      <em>IAM User Guide</em>.
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p><b>Applications running on Amazon EC2</b> –
                                                      Instead of storing access keys within an EC2 instance for use by
                                                      applications running on the instance and for making AWS API requests,
                                                      you can use an IAM role to manage temporary credentials for these
                                                      applications. To assign an AWS role to an EC2 instance and make it
                                                      available to all of its applications, you can create an instance profile
                                                      that is attached to the instance. An <em>instance
                                                         profile</em> contains the role and enables programs running on
                                                      the EC2 instance to get temporary credentials. For more information, see
                                                      <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2.html">Using
                                                         Roles for Applications on Amazon EC2</a> in the
                                                      <em>IAM User Guide</em>.
                                                   </p>
                                                   
                                                   
                                                </li>
                                             </ul>
                                          </div>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                  
                                 
                                 <h2 id="access-control">Access Control</h2>
                                 
                                 
                                 <p>You can have valid credentials to authenticate your requests, but unless you have
                                    permissions you cannot create or access CodeCommit resources. For example, you must
                                    have permissions to view repositories, push code, create and manage Git credentials,
                                    and
                                    so on.
                                 </p>
                                 
                                 <p>The following sections describe how to manage permissions for CodeCommit. We
                                    recommend that you read the overview first.
                                 </p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><a href="#auth-and-access-control-iam-access-control-identity-based">Overview of
                                                Managing Access Permissions to Your CodeCommit Resources</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="./auth-and-access-control-iam-identity-based-access-control.html">Using
                                                Identity-Based Policies (IAM Policies) for CodeCommit</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="./auth-and-access-control-permissions-reference.html">CodeCommit
                                                Permissions Reference</a></p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                  
                                 
                                 <h2 id="auth-and-access-control-iam-access-control-identity-based">Overview of
                                    Managing Access Permissions to Your CodeCommit Resources
                                 </h2>
                                 
                                 
                                 
                                 <p>Every AWS resource is owned by an AWS account. Permissions to create or access a
                                    resource are governed by permissions policies. An account administrator can attach
                                    permissions policies to IAM identities (that is, users, groups, and roles). Some
                                    services, such as AWS Lambda, also support attaching permissions policies to resources.
                                    
                                 </p>
                                 
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>An <em>account administrator</em> (or administrator user) is a user
                                          with administrator privileges. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html">IAM Best Practices</a> in the
                                          <em>IAM User Guide</em>.
                                       </p>
                                    </div>
                                 </div>
                                 
                                 <p>When granting permissions, you decide who gets the permissions, the resources they
                                    get
                                    permissions for, and the specific actions that you want to allow on those
                                    resources.
                                 </p>
                                 
                                 
                                 <div class="highlights" id="inline-topiclist">
                                    <p><strong>Topics</strong></p>
                                    <ul>
                                       <li><a href="#arn-formats">CodeCommit Resources and Operations</a></li>
                                       <li><a href="#understanding-resource-ownership">Understanding Resource
                                             Ownership</a></li>
                                       <li><a href="#managing-access-resources">Managing Access to Resources</a></li>
                                       <li><a href="#resource-scoping">Resource Scoping in CodeCommit</a></li>
                                       <li><a href="#actions-effects-principals">Specifying Policy Elements: Resources,
                                             Actions, Effects, and Principals</a></li>
                                       <li><a href="#policy-conditions">Specifying Conditions in a Policy</a></li>
                                    </ul>
                                 </div>
                                 
                                  
                                 
                                 <h3 id="arn-formats">CodeCommit Resources and Operations</h3>
                                 
                                 <p>In CodeCommit, the primary resource is a repository. Each
                                    resource has a unique Amazon Resource Names (ARN) associated with it. In a policy,
                                    you use an Amazon Resource Name (ARN) to identify the resource that the policy
                                    applies to. For more information about ARNs, see <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html">Amazon Resource Names (ARN) and
                                       AWS Service Namespaces</a> in the <em>Amazon Web Services General Reference</em>.
                                    CodeCommit does not currently support other resource types, which are referred to
                                    as subresources.
                                 </p>
                                 
                                 <p>The following table describes how to specify CodeCommit resources.</p>
                                 
                                 <div class="table-container">
                                    <div class="table-contents">
                                       <table id="w147aac66c19c22c11c11b7">
                                          
                                          <tr>
                                             
                                             <th>Resource Type</th>
                                             
                                             <th>ARN Format</th>
                                             
                                          </tr>
                                           
                                          
                                          <tr>
                                             
                                             <td>Repository</td>
                                             
                                             <td>
                                                
                                                <p>arn:aws:codecommit:<code class="replaceable">region</code>:<code class="replaceable">account-id</code>:<code class="replaceable">repository-name</code></p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>All CodeCommit repositories</p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>arn:aws:codecommit:*</p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                          <tr>
                                             
                                             <td>
                                                
                                                <p>All CodeCommit repositories owned by the specified account
                                                   in the specified region
                                                </p>
                                                
                                             </td>
                                             
                                             <td>
                                                
                                                <p>arn:aws:codecommit:<code class="replaceable">region</code>:<code class="replaceable">account-id</code>:*
                                                </p>
                                                
                                             </td>
                                             
                                          </tr>
                                          
                                       </table>
                                    </div>
                                 </div>
                                 
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>Most AWS services treat a colon (:) or a forward slash (/) in ARNs as the
                                          same character. However, CodeCommit requires an exact match in resource
                                          patterns and rules. When creating event patterns, be sure to use the correct ARN
                                          characters so that they match the ARN syntax in the resource.
                                       </p>
                                    </div>
                                 </div>
                                 
                                 <p>For example, you can indicate a specific repository
                                    (<code class="replaceable">MyDemoRepo</code>) in your statement using its ARN as
                                    follows:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">"Resource": "arn:aws:codecommit:<code class="replaceable">us-west-2</code>:<code class="replaceable">111111111111</code>:<code class="replaceable">MyDemoRepo</code>"</code></pre>
                                 <p>To specify all repositories that belong to a specific account, use the
                                    wildcard character (*) as follows:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">"Resource": "arn:aws:codecommit:<code class="replaceable">us-west-2</code>:<code class="replaceable">111111111111</code>:<code class="replaceable">*</code>"</code></pre>
                                 <p>To specify all resources, or if a specific API action does not support ARNs, use
                                    the wildcard character (*) in the <code class="code">Resource</code> element as follows:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">"Resource": "<code class="replaceable">*</code>"</code></pre>
                                 <p>You can also use the wildcard character(*) to specify all resources that match
                                    part of a repository name. For example, the following ARN specifies any CodeCommit
                                    repository that begins with the name <code class="code">MyDemo</code> and that is registered to
                                    the AWS account <code class="code">111111111111</code> in the <code class="code">us-east-2</code>
                                    AWS Region:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">arn:aws:codecommit:us-east-2:111111111111:MyDemo*</code></pre>
                                 <p> For a list of available operations that work with the CodeCommit resources,
                                    see <a href="./auth-and-access-control-permissions-reference.html">CodeCommit
                                       Permissions Reference</a>.
                                 </p>
                                  
                                 
                                  
                                 
                                 <h3 id="understanding-resource-ownership">Understanding Resource
                                    Ownership
                                 </h3>
                                 
                                 
                                 <p>The AWS account owns the resources that are created in the account, regardless
                                    of who created them. Specifically, the resource owner is the AWS account of the
                                    <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html">principal
                                       entity</a> (that is, the root account, an IAM user, or an IAM role) that
                                    authenticates the resource creation request. The following examples illustrate how
                                    this works:
                                 </p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>If you create an IAM user in your AWS account and grant permissions to
                                             create CodeCommit resources to that user, the user can create
                                             CodeCommit resources. However, your AWS account, to which the user
                                             belongs, owns the CodeCommit resources.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>If you use the root account credentials of your AWS account to create a
                                             rule, your AWS account is the owner of the CodeCommit resource.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>If you create an IAM role in your AWS account with permissions to
                                             create CodeCommit resources, anyone who can assume the role can create
                                             CodeCommit resources. Your AWS account, to which the role belongs, owns
                                             the CodeCommit resources.
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                  
                                 
                                  
                                 
                                 <h3 id="managing-access-resources">Managing Access to Resources</h3>
                                 
                                 
                                 <p>To manage access to AWS resources, you use permissions policies. A
                                    <em>permissions policy</em> describes who has access to what. The
                                    following section explains the options for creating permissions policies.
                                 </p>
                                 
                                 
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>This section discusses using IAM in the context of CodeCommit. It
                                          doesn't provide detailed information about the IAM service. For more
                                          information about IAM, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction.html">What
                                             Is IAM?</a> in the <em>IAM User Guide</em>. For
                                          information about IAM policy syntax and descriptions, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies.html">AWS IAM Policy Reference</a>
                                          in the <em>IAM User Guide</em>.
                                       </p>
                                    </div>
                                 </div>
                                 
                                 <p>Permissions policies that are attached to an IAM identity are referred to as
                                    identity-based policies (IAM policies). Permissions policies that are attached to
                                    a resource are referred to as resource-based policies. Currently, CodeCommit
                                    supports only identity-based policies (IAM policies).
                                 </p>
                                 
                                 <div class="highlights" id="inline-topiclist">
                                    <p><strong>Topics</strong></p>
                                    <ul>
                                       <li><a href="#identity-based-policies">Identity-Based Policies (IAM
                                             Policies)</a></li>
                                       <li><a href="#resource-based-policies-overview">Resource-Based
                                             Policies</a></li>
                                    </ul>
                                 </div>
                                  
                                 
                                 <h4 id="identity-based-policies">Identity-Based Policies (IAM
                                    Policies)
                                 </h4>
                                 
                                 <p>To manage access to AWS resources, you attach permissions policies to IAM
                                    identities. In CodeCommit, you use identity-based policies to control access
                                    to repositories. For example, you can do the following: 
                                 </p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><b>Attach a permissions policy to a user or a group
                                                in your account</b> – To grant a user permissions to
                                             view CodeCommit resources in the CodeCommit console, attach an
                                             identity-based permissions policy to a user or group that the user
                                             belongs to.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><b>Attach a permissions policy to a role (to grant
                                                cross-account permissions)</b> – Delegation, such as
                                             when you want to grant cross-account access, involves setting up a trust
                                             between the account that owns the resource (the trusting account), and
                                             the account that contains the users who need to access the resource (the
                                             trusted account). A permissions policy grants the user of a role the
                                             needed permissions to carry out the intended tasks on the resource. A
                                             trust policy specifies which trusted accounts are allowed to grant its
                                             users permissions to assume the role. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html">IAM Terms and
                                                Concepts</a>. 
                                          </p>
                                          
                                          <p>To grant cross-account permissions, attach an identity-based
                                             permissions policy to an IAM role. For example, the administrator in
                                             Account A can create a role to grant cross-account permissions to
                                             another AWS account (for example, Account B) or an AWS service as
                                             follows:
                                          </p>
                                          
                                          <div class="orderedlist">
                                              
                                              
                                              
                                             
                                             <ol>
                                                <li>
                                                   
                                                   <p>Account A administrator creates an IAM role and attaches a
                                                      permissions policy to the role that grants permissions on
                                                      resources in Account A.
                                                   </p>
                                                   
                                                </li>
                                                <li>
                                                   
                                                   <p>Account A administrator attaches a trust policy to the role
                                                      identifying Account B as the principal who can assume the
                                                      role.
                                                   </p>
                                                   
                                                </li>
                                                <li>
                                                   
                                                   <p>Account B administrator can then delegate permissions to
                                                      assume the role to any users in Account B. Doing this allows
                                                      users in Account B to create or access resources in Account A.
                                                      If you want to grant an AWS service permission to assume the
                                                      role, the principal in the trust policy can also be an AWS
                                                      service principal. For more information, see Delegation in
                                                      <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html">IAM Terms and Concepts</a>.
                                                   </p>
                                                   
                                                </li>
                                             </ol>
                                          </div>
                                          
                                          <p>For more information about using IAM to delegate permissions, see
                                             <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access.html">Access Management</a> in
                                             the <em>IAM User Guide</em>.
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 
                                 <p>The following example policy allows a user to create a branch in a repository
                                    named <code class="replaceable">MyDemoRepo</code>:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
  "Version": "2012-10-17",
  "Statement" : [
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [
        "codecommit:CreateBranch"
      ],
      "Resource" : "arn:aws:codecommit:us-east-2:<code class="replaceable">111111111111</code>:<code class="replaceable">MyDemoRepo</code>"
    }
  ]
}</code></pre>
                                 <p>To restrict the calls and resources that users in your account have access to,
                                    create specific IAM policies, and then attach those policies to IAM users.
                                    For more information about how to create IAM roles and to explore example
                                    IAM policy statements for CodeCommit, see <a href="./auth-and-access-control-iam-identity-based-access-control.html#customer-managed-policies-identity">Customer Managed Identity
                                       Policy Examples</a>. 
                                 </p>
                                  
                                  
                                 
                                 <h4 id="resource-based-policies-overview">Resource-Based
                                    Policies
                                 </h4>
                                 
                                 <p>Some services, such as Amazon S3, also support resource-based permissions policies.
                                    For example, you can attach a resource-based policy to an S3 bucket to manage
                                    access permissions to that bucket. CodeCommit doesn't support resource-based
                                    policies, but you can use tags to identify resources, which you can then use in
                                    IAM policies. For an example of a tag-based policy, see
                                    <a href="#identity-based-policies">Identity-Based Policies (IAM
                                       Policies)</a>. 
                                 </p>
                                  
                                  
                                 
                                  
                                 
                                 <h3 id="resource-scoping">Resource Scoping in CodeCommit</h3>
                                 
                                 <p>In CodeCommit, you can scope identity-based policies and permissions to resources,
                                    as
                                    described in <a href="#arn-formats">CodeCommit Resources and Operations</a>. However, you
                                    cannot scope the <code class="code">ListRepositories</code> permission to a resource. Instead,
                                    you must scope it to all resources (using the wildcard <code class="code">*</code>). Otherwise,
                                    the action fails. 
                                 </p>
                                 
                                 <p>All other CodeCommit permissions can be scoped to resources.</p>
                                  
                                 
                                  
                                 
                                 <h3 id="actions-effects-principals">Specifying Policy Elements: Resources,
                                    Actions, Effects, and Principals
                                 </h3>
                                 
                                 <p>You can create policies to allow or deny users access to resources, or allow or
                                    deny users to take specific actions on those resources. CodeCommit defines a set
                                    of public API operations that define how users work with the service, whether that
                                    is through the CodeCommit console, the SDKs, the AWS CLI, or by directly calling those
                                    APIs. To grant permissions for these API operations, CodeCommit defines a set of
                                    actions that you can specify in a policy. 
                                 </p>
                                 
                                 <p>Some API operations can require permissions for more than one action. For more
                                    information about resources and API operations, see <a href="#arn-formats">CodeCommit Resources and Operations</a> and <a href="./auth-and-access-control-permissions-reference.html">CodeCommit
                                       Permissions Reference</a>.
                                 </p>
                                 
                                 <p>The following are the basic elements of a policy:</p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><b>Resource</b> – To identify the resource
                                             that the policy applies to, you use an Amazon Resource Name (ARN). For more
                                             information, see <a href="#arn-formats">CodeCommit Resources and Operations</a>.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><b>Action</b> – To identify resource
                                             operations that you want to allow or deny, you use action keywords. For
                                             example, depending on the specified <code class="code">Effect</code>, the
                                             <code class="code">codecommit:GetBranch</code> permission either allows or denies the
                                             user to perform the <code class="code">GetBranch</code> operation, which gets details
                                             about a branch in a CodeCommit repository.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><b>Effect</b> – You specify the effect,
                                             either allow or deny, that takes place when the user requests the specific
                                             action. If you don't explicitly grant access to (allow) a resource, access
                                             is implicitly denied. You can also explicitly deny access to a resource to
                                             make sure that a user cannot access it, even if a different policy grants
                                             access.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><b>Principal</b> – In identity-based
                                             policies (IAM policies), the only type of policies that CodeCommit supports,
                                             the user that the policy is attached to is the implicit principal. 
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 <p>To learn more about IAM policy syntax, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies.html">AWS IAM Policy Reference</a>
                                    in the <em>IAM User Guide</em>.
                                 </p>
                                 
                                 <p>For a table showing all of the CodeCommit API actions and the resources that
                                    they apply to, see <a href="./auth-and-access-control-permissions-reference.html">CodeCommit
                                       Permissions Reference</a>.
                                 </p>
                                  
                                  
                                 
                                 <h3 id="policy-conditions">Specifying Conditions in a Policy</h3>
                                 
                                 
                                 <p>When you grant permissions, you use the access policy language for IAM to
                                    specify the conditions under which a policy should take effect. For example, you
                                    might want a policy to be applied only after a specific date. For more information
                                    about specifying conditions in a policy language, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html#Condition">Condition</a>
                                    and <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_grammar.html">Policy
                                       Grammar</a> in the <em>IAM User Guide</em>.
                                 </p>
                                 
                                 <p>To express conditions, you use predefined condition keys. There are no condition
                                    keys specific to CodeCommit. However, there are AWS-wide condition keys that
                                    you can use as appropriate. For a complete list of AWS-wide keys, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html#AvailableKeys">Available
                                       Keys for Conditions</a> in the <em>IAM User Guide</em>. 
                                 </p>
                                  
                                 
                                 
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="./security-iam.html">Identity and Access Management</div>
                                    <div id="next" class="next-link" accesskey="n" href="./auth-and-access-control-iam-identity-based-access-control.html">Using Identity-Based Policies (IAM Policies)</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
            <!--
                    if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                    //
                --></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>
</html>